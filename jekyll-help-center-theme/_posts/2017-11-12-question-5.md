---
layout: post
title: 'Code Management'
description: 'Best practices for maning, imaages, infrastructure and configuration as code for Vault and Consul'
date:   2017-11-12 17:46:41 -0300
icon: 'help-circle'
questions:
  - question: 'Infrastructure as code written (Virtual Machines only)'
    answer: 'Code written to deploy the infrastructure for Consul and Vault. [Terrafrom](https://www.terraform.io/) is an appropriate tool for this task.  Virtual Machine images created from code for Consul and Vault. Packer is a good choice of tool for this. All Virtual infrastructure should be deployed and managed using an Infrastructure as code tool.'
  - question: 'Vault Platform Configuration Code Written'
    answer: 'Vault Platform configuration should be described in code using a tool like [Terrafrom](https://www.terraform.io/).  Configuration such as Auth Methods, Secrets Engines, Audit Devices and Policies should all be configured using code.'
  - question: 'Code under Version Control in Source Code Repositories'
    answer: 'All Infrastructure code and application code should be stored separate source control repositories and be placed under version control. An appropriate branching strategy should be implemented and documented in the README file.'
  - question: 'Code Owners in repositories'
    answer: 'Repository files should have code owners assigned to them to control who can approve Pull Requests that will be merged into the Master branch.'
  - question: 'Repository rules implemented'
    answer: 'Configure the minimum number of Pull Request approvers, restrictions on Pull Request Authors approving their own requests and any other rules that your organisationâ€™s security standards require for Integrity.'
  - question: 'Signed commits implemented'
    answer: 'Configure repositories to only accept signed commits to ensure the cryptographic identity of the commit author is verified.'
  - question: 'Deployment pipelines implemented'
    answer: 'Code deployments should be automated using deployment pipelines. Where possible, the pipeline should be written as code and stored under version control with the code.'
  - question: 'Dev / Staging environments created'
    answer: 'Create development and staging environments for Vault.  Staging Environment should be identical to production, with the only divergence being, when pre-production changes are implemented for final testing prior to being deployed to production.'
  - question: 'Naming and coding standards established'
    answer: 'Implement and document naming and coding standards. Naming standards for Namespaces, Policies, Vault Roles, secrets keys and AppRoles.  Coding standards where applicable for variable names and function names.'
  - question: 'Integration tests written'
    answer: 'A suite of automated integration tests written to be run either during the deployment pipeline or as a pre-check on your chosen VCS required to pass before a Pull Request can be merged.'

---

