---
layout: post
title: "Infrastructure Architecture"
description: "Best practices for designing your infrastructure architecture, ready to host Hashicorp Vault and Consul"
date:   2020-03-12 17:46:41 -0300
categories: start blog
by: 'Robert Barnes'
icon: 'credit-card'
questions:
  - question: 'Availability Zones'
    answer: 'Nodes in Vault clusters (and Consul clusters if being used as a storage backend) should be spread accross two or more failure domains known as Availability zones. The loss of a single Availability zone should not result result in a loss of service.'
    image: "1.gif"
  - question: 'Machine Images Created (Virtual Machines only)'
    answer: 'If you are deploying your Vault nodes on virtual machines, It is reccomended to build re-usable VM images that can be used to create cluster nodes in an immutable way.  Tools like [Hashicorp Packer](https://packer.io/) are designed to help build repeatable machine images for most virtualised and cloud platform. Machine images should be versioned and should follow a release cycle as new images are produced.'
    image: "2.gif"
  - question: 'Replication Enabled (Enterprise only)'
    answer: 'If you are using the Enterprise version of Vault, you can enable replication between two or more Vault clusters in different geographical regions for added protection is Disaster Recovery scenarios.  Replication can be configured in Disaster Recovery Mode or Performance Replication mode.  If you are planing on using Replication, you need to provision infrastructure in an alternative region, with nodes spread accross multiple Availability Zones. For more information about the Enterprise Replication feature, see [the official documentation.](https://www.vaultproject.io/docs/internals/replication/)'
    image: "3.gif"
  - question: 'Firewall rules configured to control access to Vault'
    answer: 'Vault will likely contain business critical secrets which makes it a prime target for malicious actors. Access to vault to should be restricted to your private networks and not be accessible on the internet.  The Use of Virtual Private Networks is a commonly used approach to allow access to Vault from unknown networks.'
    image: "4.gif"
  - question: 'Compute Resouces satisfy the minimum requirements'
    answer: 'Ensure Hardware servers and Virtual Machines have been appropriately resources in accordance with the [Deployment System Requirements](https://learn.hashicorp.com/vault/operations/ops-reference-architecture#deployment-system-requirements).'
    image: "4.gif"
  - question: 'Secondary Disk'
    answer: 'Ensure that vault servers have a secondary disk attached to them. This will help with Audit Device Fault tolerance.'
    image: "4.gif"
---
